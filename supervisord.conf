[supervisord]
nodaemon=true
logfile=/var/log/supervisord.log
pidfile=/var/run/supervisord.pid

[program:fastapi]
command=bash -c "echo 'Checking Python path...' && python -c 'import sys; print(sys.path)' && echo 'Starting FastAPI...' && uvicorn src.main:app --host 0.0.0.0 --port 8000 --reload --log-level debug"
environment=PYTHONUNBUFFERED="1"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
directory=/app
autostart=true
autorestart=true
startretries=5
startsecs=10
stdout_logfile=/var/log/fastapi.log
stderr_logfile=/var/log/fastapi_error.log
environment=PYTHONPATH="/app"
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/fastapi.log
stderr_logfile=/var/log/fastapi_error.log

[program:streamlit]
command=streamlit run app.py --server.port=8501 --server.address=0.0.0.0
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/streamlit.log
stderr_logfile=/var/log/streamlit_error.log